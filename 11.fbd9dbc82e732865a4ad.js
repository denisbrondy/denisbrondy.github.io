(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{L6id:function(l,n,e){"use strict";e.r(n);var u=e("CcnG"),i=function(){},t=e("pMnS"),o=e("ra/t"),r=e("ntG5"),a=e("M9A9"),c=e("ZYCi"),s=e("Zq1E"),b=e("gIcY"),d=function(){function l(){this.isScanButtonDisabled=!1,this.isDisconnectButtonDisabled=!0,this.isSendButtonDisabled=!0,this.bleDevice=null,this.bleServer=null,this.bleService=null,this.textCharacteristic=null,this.deviceName="",this.deviceStatus="",this.data=""}return l.prototype.handleError=function(l){console.log(l)},l.prototype.stringToArrayBuffer=function(l){for(var n=new Uint8Array(l.length),e=0;e<l.length;e++)n[e]=l.charCodeAt(e);return n.buffer},l.prototype.receiveService=function(l){this.deviceStatus="Connected",this.isDisconnectButtonDisabled=!1,this.isSendButtonDisabled=!1,this.bleService=l;var n=this;this.bleService.getCharacteristic("38149ecc-adb2-4ff3-89d5-6083d52c5e9f").then(function(l){return l.startNotifications()}).then(function(l){l.addEventListener("characteristicvaluechanged",function(l){n.counter=l.target.value.getUint8(0)})}).catch(function(l){n.handleError(l)}),this.bleService.getCharacteristic("8a21ad2c-279d-41d1-94bf-6916ecbb3695").then(function(l){n.textCharacteristic=l}).catch(function(l){n.handleError(l)})},l.prototype.connect=function(){this.deviceStatus="Connecting...";var l=this;this.bleServer.getPrimaryService("39ead0db-0bbf-449a-9af9-24001ea09aa3").then(function(n){l.receiveService(n)}).catch(function(n){l.handleError(n)})},l.prototype.setDisconnected=function(l){this.deviceStatus="Disconnected",this.isDisconnectButtonDisabled=!0,this.isSendButtonDisabled=!0},l.prototype.disconnect=function(){this.deviceStatus="Disconnecting...",this.bleDevice.gatt.connected&&(this.bleDevice.gatt.disconnect(),this.setDisconnected(this))},l.prototype.receiveServer=function(l){this.bleServer=l,this.connect()},l.prototype.receiveDevice=function(l){this.bleDevice=l,this.deviceName=this.bleDevice.name,this.isScanButtonDisabled=!1;var n=this;this.bleDevice.addEventListener("gattserverdisconnected",n.setDisconnected),this.bleDevice.gatt.connect().then(function(l){n.receiveServer(l)}).catch(function(l){n.handleError(l)})},l.prototype.sendToDevice=function(){this.textCharacteristic.writeValue(this.stringToArrayBuffer(this.data))},l.prototype.scan=function(){if(0==this.isScanButtonDisabled){this.isScanButtonDisabled=!0;var l=this;window.navigator.bluetooth.requestDevice({acceptAllDevices:!0,optionalServices:["39ead0db-0bbf-449a-9af9-24001ea09aa3"]}).then(function(n){l.receiveDevice(n)}).catch(function(n){l.handleError(n)})}},l}(),h=u.qb({encapsulation:0,styles:[[""]],data:{}});function g(l){return u.Gb(0,[(l()(),u.sb(0,0,null,null,10,"ion-header",[],null,null,null,o.u,o.e)),u.rb(1,49152,null,0,r.y,[u.i,u.l],null,null),(l()(),u.sb(2,0,null,0,8,"ion-toolbar",[],null,null,null,o.F,o.o)),u.rb(3,49152,null,0,r.xb,[u.i,u.l],null,null),(l()(),u.sb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,o.s,o.c)),u.rb(5,49152,null,0,r.g,[],null,null),(l()(),u.sb(6,0,null,0,1,"ion-menu-button",[],null,null,null,o.A,o.l)),u.rb(7,49152,null,0,r.O,[u.i,u.l],null,null),(l()(),u.sb(8,0,null,0,2,"ion-title",[],null,null,null,o.E,o.p)),u.rb(9,49152,null,0,r.yb,[u.i,u.l],null,null),(l()(),u.Fb(-1,0,[" Bluetooth ESP32 PWA "])),(l()(),u.sb(11,0,null,null,69,"ion-content",[["padding",""]],null,null,null,o.t,o.d)),u.rb(12,49152,null,0,r.r,[u.i,u.l],null,null),(l()(),u.sb(13,0,null,0,3,"ion-button",[["size","full"]],null,[[null,"click"]],function(l,n,e){var i=!0,t=l.component;return"click"===n&&(i=!1!==u.Bb(l,15).onClick(e)&&i),"click"===n&&(i=!1!==t.scan()&&i),i},o.r,o.b)),u.rb(14,49152,null,0,r.f,[u.i,u.l],{disabled:[0,"disabled"],size:[1,"size"]},null),u.rb(15,16384,null,0,a.a,[[2,c.l],u.l],null,null),(l()(),u.Fb(-1,0,["Scan and connect"])),(l()(),u.sb(17,0,null,0,27,"ion-list",[],null,null,null,o.z,o.j)),u.rb(18,49152,null,0,r.L,[u.i,u.l],null,null),(l()(),u.sb(19,0,null,0,12,"ion-item",[],null,[[null,"click"]],function(l,n,e){var i=!0;return"click"===n&&(i=!1!==u.Bb(l,21).onClick(e)&&i),i},o.x,o.h)),u.rb(20,49152,null,0,r.E,[u.i,u.l],null,null),u.rb(21,16384,null,0,a.a,[[2,c.l],u.l],null,null),(l()(),u.sb(22,0,null,0,2,"ion-label",[["color","primary"]],null,null,null,o.y,o.i)),u.rb(23,49152,null,0,r.K,[u.i,u.l],{color:[0,"color"]},null),(l()(),u.Fb(-1,0,["Device"])),(l()(),u.sb(25,0,null,0,6,"ion-input",[["placeholder","Perform scan first"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(l,n,e){var i=!0,t=l.component;return"ionChange"===n&&(i=!1!==u.Bb(l,26)._handleInputEvent(e.target.value)&&i),"ionBlur"===n&&(i=!1!==u.Bb(l,26)._handleBlurEvent()&&i),"ngModelChange"===n&&(i=!1!==(t.deviceName=e)&&i),i},o.w,o.g)),u.rb(26,16384,null,0,s.a,[u.l],null,null),u.Db(1024,null,b.b,function(l){return[l]},[s.a]),u.rb(28,671744,null,0,b.e,[[8,null],[8,null],[8,null],[6,b.b]],{model:[0,"model"]},{update:"ngModelChange"}),u.Db(2048,null,b.c,null,[b.e]),u.rb(30,16384,null,0,b.d,[[4,b.c]],null,null),u.rb(31,49152,null,0,r.D,[u.i,u.l],{placeholder:[0,"placeholder"],readonly:[1,"readonly"]},null),(l()(),u.sb(32,0,null,0,12,"ion-item",[],null,[[null,"click"]],function(l,n,e){var i=!0;return"click"===n&&(i=!1!==u.Bb(l,34).onClick(e)&&i),i},o.x,o.h)),u.rb(33,49152,null,0,r.E,[u.i,u.l],null,null),u.rb(34,16384,null,0,a.a,[[2,c.l],u.l],null,null),(l()(),u.sb(35,0,null,0,2,"ion-label",[["color","primary"]],null,null,null,o.y,o.i)),u.rb(36,49152,null,0,r.K,[u.i,u.l],{color:[0,"color"]},null),(l()(),u.Fb(-1,0,["Status"])),(l()(),u.sb(38,0,null,0,6,"ion-input",[["placeholder","Unknown"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(l,n,e){var i=!0,t=l.component;return"ionChange"===n&&(i=!1!==u.Bb(l,39)._handleInputEvent(e.target.value)&&i),"ionBlur"===n&&(i=!1!==u.Bb(l,39)._handleBlurEvent()&&i),"ngModelChange"===n&&(i=!1!==(t.deviceStatus=e)&&i),i},o.w,o.g)),u.rb(39,16384,null,0,s.a,[u.l],null,null),u.Db(1024,null,b.b,function(l){return[l]},[s.a]),u.rb(41,671744,null,0,b.e,[[8,null],[8,null],[8,null],[6,b.b]],{model:[0,"model"]},{update:"ngModelChange"}),u.Db(2048,null,b.c,null,[b.e]),u.rb(43,16384,null,0,b.d,[[4,b.c]],null,null),u.rb(44,49152,null,0,r.D,[u.i,u.l],{placeholder:[0,"placeholder"],readonly:[1,"readonly"]},null),(l()(),u.sb(45,0,null,0,3,"ion-button",[["size","full"]],null,[[null,"click"]],function(l,n,e){var i=!0,t=l.component;return"click"===n&&(i=!1!==u.Bb(l,47).onClick(e)&&i),"click"===n&&(i=!1!==t.disconnect()&&i),i},o.r,o.b)),u.rb(46,49152,null,0,r.f,[u.i,u.l],{disabled:[0,"disabled"],size:[1,"size"]},null),u.rb(47,16384,null,0,a.a,[[2,c.l],u.l],null,null),(l()(),u.Fb(-1,0,["Disconnect"])),(l()(),u.sb(49,0,null,0,31,"ion-list",[],null,null,null,o.z,o.j)),u.rb(50,49152,null,0,r.L,[u.i,u.l],null,null),(l()(),u.sb(51,0,null,0,12,"ion-item",[],null,[[null,"click"]],function(l,n,e){var i=!0;return"click"===n&&(i=!1!==u.Bb(l,53).onClick(e)&&i),i},o.x,o.h)),u.rb(52,49152,null,0,r.E,[u.i,u.l],null,null),u.rb(53,16384,null,0,a.a,[[2,c.l],u.l],null,null),(l()(),u.sb(54,0,null,0,2,"ion-label",[["color","primary"]],null,null,null,o.y,o.i)),u.rb(55,49152,null,0,r.K,[u.i,u.l],{color:[0,"color"]},null),(l()(),u.Fb(-1,0,["Counter"])),(l()(),u.sb(57,0,null,0,6,"ion-input",[["placeholder","Unknown"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(l,n,e){var i=!0,t=l.component;return"ionChange"===n&&(i=!1!==u.Bb(l,58)._handleInputEvent(e.target.value)&&i),"ionBlur"===n&&(i=!1!==u.Bb(l,58)._handleBlurEvent()&&i),"ngModelChange"===n&&(i=!1!==(t.counter=e)&&i),i},o.w,o.g)),u.rb(58,16384,null,0,s.a,[u.l],null,null),u.Db(1024,null,b.b,function(l){return[l]},[s.a]),u.rb(60,671744,null,0,b.e,[[8,null],[8,null],[8,null],[6,b.b]],{model:[0,"model"]},{update:"ngModelChange"}),u.Db(2048,null,b.c,null,[b.e]),u.rb(62,16384,null,0,b.d,[[4,b.c]],null,null),u.rb(63,49152,null,0,r.D,[u.i,u.l],{placeholder:[0,"placeholder"],readonly:[1,"readonly"]},null),(l()(),u.sb(64,0,null,0,12,"ion-item",[],null,[[null,"click"]],function(l,n,e){var i=!0;return"click"===n&&(i=!1!==u.Bb(l,66).onClick(e)&&i),i},o.x,o.h)),u.rb(65,49152,null,0,r.E,[u.i,u.l],null,null),u.rb(66,16384,null,0,a.a,[[2,c.l],u.l],null,null),(l()(),u.sb(67,0,null,0,2,"ion-label",[["color","primary"]],null,null,null,o.y,o.i)),u.rb(68,49152,null,0,r.K,[u.i,u.l],{color:[0,"color"]},null),(l()(),u.Fb(-1,0,["To device"])),(l()(),u.sb(70,0,null,0,6,"ion-input",[["placeholder","Type a text to send to device"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(l,n,e){var i=!0,t=l.component;return"ionChange"===n&&(i=!1!==u.Bb(l,71)._handleInputEvent(e.target.value)&&i),"ionBlur"===n&&(i=!1!==u.Bb(l,71)._handleBlurEvent()&&i),"ngModelChange"===n&&(i=!1!==(t.data=e)&&i),i},o.w,o.g)),u.rb(71,16384,null,0,s.a,[u.l],null,null),u.Db(1024,null,b.b,function(l){return[l]},[s.a]),u.rb(73,671744,null,0,b.e,[[8,null],[8,null],[8,null],[6,b.b]],{model:[0,"model"]},{update:"ngModelChange"}),u.Db(2048,null,b.c,null,[b.e]),u.rb(75,16384,null,0,b.d,[[4,b.c]],null,null),u.rb(76,49152,null,0,r.D,[u.i,u.l],{placeholder:[0,"placeholder"]},null),(l()(),u.sb(77,0,null,0,3,"ion-button",[["size","full"]],null,[[null,"click"]],function(l,n,e){var i=!0,t=l.component;return"click"===n&&(i=!1!==u.Bb(l,79).onClick(e)&&i),"click"===n&&(i=!1!==t.sendToDevice()&&i),i},o.r,o.b)),u.rb(78,49152,null,0,r.f,[u.i,u.l],{disabled:[0,"disabled"],size:[1,"size"]},null),u.rb(79,16384,null,0,a.a,[[2,c.l],u.l],null,null),(l()(),u.Fb(-1,0,["Send"]))],function(l,n){var e=n.component;l(n,14,0,e.isScanButtonDisabled,"full"),l(n,23,0,"primary"),l(n,28,0,e.deviceName),l(n,31,0,"Perform scan first",!0),l(n,36,0,"primary"),l(n,41,0,e.deviceStatus),l(n,44,0,"Unknown",!0),l(n,46,0,e.isDisconnectButtonDisabled,"full"),l(n,55,0,"primary"),l(n,60,0,e.counter),l(n,63,0,"Unknown",!0),l(n,68,0,"primary"),l(n,73,0,e.data),l(n,76,0,"Type a text to send to device"),l(n,78,0,e.isSendButtonDisabled,"full")},function(l,n){l(n,25,0,u.Bb(n,30).ngClassUntouched,u.Bb(n,30).ngClassTouched,u.Bb(n,30).ngClassPristine,u.Bb(n,30).ngClassDirty,u.Bb(n,30).ngClassValid,u.Bb(n,30).ngClassInvalid,u.Bb(n,30).ngClassPending),l(n,38,0,u.Bb(n,43).ngClassUntouched,u.Bb(n,43).ngClassTouched,u.Bb(n,43).ngClassPristine,u.Bb(n,43).ngClassDirty,u.Bb(n,43).ngClassValid,u.Bb(n,43).ngClassInvalid,u.Bb(n,43).ngClassPending),l(n,57,0,u.Bb(n,62).ngClassUntouched,u.Bb(n,62).ngClassTouched,u.Bb(n,62).ngClassPristine,u.Bb(n,62).ngClassDirty,u.Bb(n,62).ngClassValid,u.Bb(n,62).ngClassInvalid,u.Bb(n,62).ngClassPending),l(n,70,0,u.Bb(n,75).ngClassUntouched,u.Bb(n,75).ngClassTouched,u.Bb(n,75).ngClassPristine,u.Bb(n,75).ngClassDirty,u.Bb(n,75).ngClassValid,u.Bb(n,75).ngClassInvalid,u.Bb(n,75).ngClassPending)})}var v=u.ob("app-home",d,function(l){return u.Gb(0,[(l()(),u.sb(0,0,null,null,1,"app-home",[],null,null,null,g,h)),u.rb(1,49152,null,0,d,[],null,null)],null,null)},{},{},[]),p=e("Ip0R"),f=e("95zI"),B=e("9opb"),C=e("apKv"),D=e("B4/3");e.d(n,"HomePageModuleNgFactory",function(){return y});var y=u.pb(i,[],function(l){return u.yb([u.zb(512,u.k,u.eb,[[8,[t.a,v]],[3,u.k],u.z]),u.zb(4608,p.j,p.i,[u.w,[2,p.q]]),u.zb(4608,b.g,b.g,[]),u.zb(4608,f.a,f.a,[u.B,u.g]),u.zb(4608,B.a,B.a,[f.a,u.k,u.s]),u.zb(4608,C.a,C.a,[f.a,u.k,u.s]),u.zb(1073742336,p.b,p.b,[]),u.zb(1073742336,b.f,b.f,[]),u.zb(1073742336,b.a,b.a,[]),u.zb(1073742336,D.a,D.a,[]),u.zb(1073742336,c.n,c.n,[[2,c.t],[2,c.l]]),u.zb(1073742336,i,i,[]),u.zb(1024,c.j,function(){return[[{path:"",component:d}]]},[])])})}}]);